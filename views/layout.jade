doctype html
html
  head
    title #{title} | Bobby Hensley dot Com
    link(rel='stylesheet', href='http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css')
    link(rel='stylesheet', href='/stylesheets/style.css')
    script(src='http://ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js')
    script(src='/javascripts/jquery.blockUI.js')
    script(src='bootstrap/js/bootstrap.min.js')
    script(src='/socket.io/socket.io.js')
    script.
        $(document).ready(function () {
            $('#csub').on('click', function (e) {
                var socket = io.connect('http://localhost');
                e.preventDefault();

                socket.emit('form-data', {
                    subject: $('#subject').val(),
                    email: $('#email').val(),
                    contents: $('#body').val()
                });

                $.blockUI({
                    message: 'Handling your message now...' ,
                    css: {
                        padding: 10,
                        border: 0,
                        backgroundColor: "#000",
                        '-webkit-border-radius': '8px',
                        '-moz-border-radius': '8px',
                        opacity: .5,
                        color: "#fff" 
                    }
                });

                socket.on('form-done', function (d) {
                    if(d.success) {
                        $('.blockUI.blockMsg.blockPage').text('All set!');
                        $('#csub').attr('disabled', 'disabled');
                        setTimeout($.unblockUI, 2000);
                    } else {
                        $('.blockUI.blockMsg.blockPage').text('Ran into an issue... try again?!');
                        setTimeout($.unblockUI, 2000);
                    }
                });
            });
        });
  body
    div.site-wrapper
        div.site-wrapper-inner
            div.cover-container
                div.masthead.clearfix
                    div.inner
                        h3.masthead-brand Bobby Hensley dot Com
                        ul.nav.masthead-nav
                            li(class= page == 'home' ? 'active' : ''): a(href='/') Home
                            li(class= page == 'about' ? 'active' : ''): a(href='/about') Who Am I?
                            li(class= page == 'contact' ? 'active' : ''): a(href='/contact') Contact Me!
                    
                block content

                div.mastfoot
                    div.inner
                        p Copyright &copy; Bob Hensley